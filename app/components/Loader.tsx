"use client";

import { useEffect, useState } from "react";
import { motion } from "framer-motion";

export default function Loader() {
  const [visible, setVisible] = useState(true);

  useEffect(() => {
    const hide = setTimeout(() => {
      setVisible(false);
    }, 1500);

    return () => clearTimeout(hide);
  }, []);

  if (!visible) return null;

  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-[#050807] pointer-events-none">
      <motion.svg
        viewBox="0 31.049999237060547 39 23.700000762939453"
        width={180}
        height={110}
        xmlns="http://www.w3.org/2000/svg"
      >
        <g
          fill="none"
          stroke="#ffffff"
          strokeWidth="0.6"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <motion.path
            d="M0.65 45.55Q0 45.55 0 44.40Q0 43.45 0.45 42.55Q1.60 40.35 2.55 38.20Q3.20 36.90 3.78 35.70Q4.35 34.50 4.85 33.50Q5.15 33.20 5.45 33.20Q6.10 33.20 5.85 33.80Q5.75 34.15 5.58 34.63Q5.40 35.10 5.15 35.75Q4.35 37.85 4.20 38.70Q5.60 37.45 7.08 36.38Q8.55 35.30 9.85 34.60Q11.15 33.90 12.05 33.90Q12.85 33.90 12.85 34.55Q12.85 35.10 12.35 35.73Q11.85 36.35 11.35 36.35Q11.10 36.35 10.95 36.20Q10.80 36.15 10.35 36.15Q8.75 36.15 7 37.70Q5.15 39.25 3.65 41.42Q2.15 43.60 1.45 45.20Q1.10 45.55 0.65 45.55ZM18.40 45.85Q18.30 45.85 18.20 45.83Q18.10 45.80 18 45.75Q17.30 45.40 17.10 44.75Q16.90 44.10 17 43.10Q17.10 42.70 17.23 41.70Q17.35 40.70 17.55 40.10L15.00 42.55L13.60 43.90Q12.15 45.35 11.20 45.35Q10.80 45.35 10.55 45.05Q10.10 44.50 10.10 43.70Q10.10 42.65 10.65 41.45Q11.20 40.25 11.95 39.13Q12.70 38 13.30 37.25Q14.80 35.40 16.23 34.35Q17.65 33.30 19.20 33.30Q20.05 33.30 20.88 33.60Q21.70 33.90 22.40 34.60L22.45 34.65Q22.45 34.80 22.20 34.95Q22.10 35.05 22.03 35.10Q21.95 35.15 21.90 35.20Q21.30 35.80 20.55 37.20Q19.80 38.60 19.25 40.13Q18.70 41.65 18.70 42.75Q18.70 43.75 19.20 44.10Q19.45 44.25 19.75 44.25Q20.40 44.25 21.55 43.45Q21.60 43.40 21.78 43.27Q21.95 43.15 22.30 42.90Q22.70 42.60 22.95 42.60Q23.20 42.60 23.20 42.80Q23.20 43.10 22.80 43.50Q22.50 43.75 22.13 44.05Q21.75 44.35 21.25 44.65Q20.50 45.20 19.70 45.52Q18.90 45.85 18.40 45.85M12.75 42.65Q13.80 42.65 16.65 39.55Q17.40 38.70 18 37.92Q18.60 37.15 19.10 36.40Q20 34.95 19.70 34.40Q19.55 34.10 19.10 34.10Q18.55 34.10 17.60 34.67Q16.65 35.25 15.68 36.15Q14.70 37.05 13.90 37.95Q13.35 38.65 12.80 39.90Q12.25 41.15 12.25 41.95Q12.25 42.65 12.75 42.65ZM25.40 54.75Q24.30 54.75 23.60 53.75Q22.90 52.75 22.90 51.40Q22.90 50.65 23.15 50.05Q23.55 49.20 23.80 49.20Q24.00 49.20 24.00 49.50Q24.00 49.75 23.85 50.15Q23.80 50.30 23.78 50.42Q23.75 50.55 23.75 50.65Q23.75 51.55 24.28 52.50Q24.80 53.45 25.60 53.45L26.00 53.35Q27.20 53.05 28.28 52.02Q29.35 51 30.40 49.50Q31.80 47.45 32.90 45.08Q34 42.70 34.80 40.35Q35.60 38 36 36.10Q36 35.85 35.80 35.85Q35.45 35.85 34.70 36.65Q34.10 37.30 33.15 38.45Q32.20 39.60 30.80 41.20L30.00 42.15Q29.20 43.10 28.38 43.52Q27.55 43.95 26.85 43.95Q26.25 43.95 25.85 43.70Q25.35 43.35 25.35 42.45Q25.35 41 26.70 37.65L27.35 36.05Q27.85 34.90 28.23 33.95Q28.60 33 28.95 32.20Q29.30 31.55 29.75 31.55Q30.30 31.55 29.95 32.20Q28.15 36.30 27.85 38.65Q27.80 38.75 27.80 38.92Q27.80 39.10 27.80 39.30Q27.80 40.40 28.70 40.40Q29.30 40.40 30.40 39.70Q31.50 38.90 33.15 37.17Q34.80 35.45 37.10 32.80Q37.50 32.40 37.85 32Q38.20 31.60 38.50 31.25Q38.70 31.05 38.85 31.05Q39 31.05 39 31.50Q39 31.95 38.85 32.65Q38.70 33.30 38.70 33.45Q38.10 37.10 36.50 41.30Q34.85 45.45 32.33 49Q29.80 52.55 26.70 54.35Q26.05 54.75 25.40 54.75Z"
            strokeDasharray={1000}
            initial={{ strokeDashoffset: 1000 }}
            animate={{ strokeDashoffset: 0 }}
            transition={{ duration: 6, ease: "easeInOut" }}
          />
        </g>
      </motion.svg>
    </div>
  );
}
